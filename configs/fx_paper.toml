# ===================================================================
# FX Paper Trading Configuration â€” OANDA Demo Account
# ===================================================================
# G10 major pairs for Phase 1 paper validation.
# Conservative risk limits: 20x leverage, $100k max notional.
# ===================================================================

mode = "paper"

[[exchanges]]
name = "oanda"
api_key_env = "TRADING_OANDA_API_KEY"
account_id_env = "TRADING_OANDA_ACCOUNT_ID"
testnet = false
demo = true
rate_limit = 120

[symbols]
symbols = [
    "EUR/USD",
    "GBP/USD",
    "USD/JPY",
    "USD/CHF",
    "AUD/USD",
    "USD/CAD",
    "NZD/USD",
]

# ===================================================================
# TREND & MOMENTUM STRATEGIES (adapted for FX)
# ===================================================================

[[strategies]]
strategy_id = "trend_following"
enabled = true

[strategies.params]
fast_ema = 12
slow_ema = 26
signal_ema = 9
adx_threshold = 25
atr_multiplier = 1.5
volume_filter = false          # FX volume is tick-based, less reliable
min_confidence = 0.3
signal_cooldown_minutes = 60   # longer cooldown for FX

[[strategies]]
strategy_id = "mean_reversion"
enabled = true

[strategies.params]
bb_period = 20
bb_std = 2.0
rsi_oversold = 30
rsi_overbought = 70
mean_reversion_score_threshold = 0.5
require_range_regime = false
min_confidence = 0.3
signal_cooldown_minutes = 60

# ===================================================================
# EXIT MANAGEMENT
# ===================================================================

[exits]
enabled = true
sl_atr_multiplier = 2.5
tp_atr_multiplier = 5.0
trailing_stop_atr_multiplier = 2.0
trailing_strategies = ["trend_following"]

# ===================================================================
# RISK MANAGEMENT
# ===================================================================

[risk]
max_portfolio_leverage = 3.0
max_single_position_pct = 0.10
max_daily_loss_pct = 0.03
max_drawdown_pct = 0.10
reconciliation_interval_seconds = 30

# ===================================================================
# FX-SPECIFIC RISK LIMITS
# ===================================================================

[fx_risk]
max_leverage = 20
max_notional_per_order_usd = 100_000.0
max_spread_pips = 3.0
max_daily_rollover_cost_usd = 200.0
max_slippage_pips = 2.0
block_weekend_orders = true
major_pairs_only = true
allowed_sessions = ["london", "new_york", "tokyo"]
allowed_pairs = [
    "EUR/USD",
    "GBP/USD",
    "USD/JPY",
    "USD/CHF",
    "AUD/USD",
    "USD/CAD",
    "NZD/USD",
]

# ===================================================================
# OBSERVABILITY
# ===================================================================

[observability]
log_level = "INFO"
log_format = "json"
decision_audit = true

# ===================================================================
# OPTIMIZER (disabled for initial FX paper phase)
# ===================================================================

[optimizer_scheduler]
enabled = false
