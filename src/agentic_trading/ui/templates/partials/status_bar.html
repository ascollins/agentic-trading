<!-- Persistent Status Bar — always visible across all pages -->
<div class="status-bar-item">
  <span class="status-bar-label">Mode</span>
  <span class="mode-badge {{ status_bar.mode }}">{{ status_bar.mode | upper }}</span>
</div>

<div class="status-bar-sep"></div>

<div class="status-bar-item {{ 'status-ok' if status_bar.exchange_connected else 'status-err' }}">
  <span class="status-dot {{ 'healthy' if status_bar.exchange_connected else 'critical' }}"></span>
  <span class="status-bar-label">Exchange</span>
  <span class="status-bar-value">{{ status_bar.exchange_name }}</span>
</div>

<div class="status-bar-sep"></div>

<div class="status-bar-item {{ 'status-ok' if status_bar.candle_age_seconds < 60 else ('status-warn' if status_bar.candle_age_seconds < 300 else 'status-err') }}">
  <span class="status-bar-label">Last Candle</span>
  <span class="status-bar-value">
    {% if status_bar.candle_age_seconds < 60 %}
      {{ status_bar.candle_age_seconds }}s ago
    {% elif status_bar.candle_age_seconds < 3600 %}
      {{ (status_bar.candle_age_seconds // 60) }}m ago
    {% else %}
      Stale
    {% endif %}
  </span>
</div>

<div class="status-bar-sep"></div>

<div class="status-bar-item {{ 'status-ok' if status_bar.agents_healthy == status_bar.agents_total else 'status-warn' }}">
  <span class="status-bar-label">Agents</span>
  <span class="status-bar-value">{{ status_bar.agents_healthy }}/{{ status_bar.agents_total }}</span>
</div>

{% if status_bar.pending_approvals > 0 %}
<div class="status-bar-sep"></div>
<div class="status-bar-item status-warn">
  <span class="status-bar-label">Approvals</span>
  <span class="status-bar-value">⚠ {{ status_bar.pending_approvals }} pending</span>
</div>
{% endif %}

<!-- Hidden data carrier — read by base.html badge updater on each HTMX swap -->
<span id="status-bar-approval-count"
      data-count="{{ status_bar.pending_approvals }}"
      style="display:none;"></span>
